function isInstalled() {
	if [ $(dpkg-query -W -f='${Status}' $1 2>/dev/null | \
		grep -c "ok installed") -eq 0 ]; then
		echo 0;
	else
		echo 1;
	fi
}

function history%() {
	history | \
	awk '{ CMD[$2]++; count++; } END { \
		for(a in CMD) print CMD[a] " " CMD[a] / count * 100 "% " a; \
	}' | \
	grep -v "./" | column -c3 -s " " -t | sort -nr | nl | head -n10;
}

if [ `isInstalled git` == "1" ]; then
	function parseGitBranch() {
		git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/';
	}
fi

function battery() {
	printf "Health: ";
	cat /sys/class/power_supply/battery/health
	printf "Status: ";
	cat /sys/class/power_supply/battery/status;
	printf "Capacity: %s%%\n" `cat /sys/class/power_supply/battery/capacity`;
}