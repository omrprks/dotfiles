if [[ -n "$BASH_VERSION" ]]; then
	### Bash ###
	alias reload="source ~/.bash_profile"
	alias bashconfig="code ~/.bashrc"

	if [[ -x /usr/bin/dircolors ]]; then
		test -r ~/.dircolors && \
			eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
		alias ls="ls -GFp --color=auto"
		alias dir='dir --color=auto'
		alias vdir='vdir --color=auto'

		alias grep='grep --color=auto'
		alias fgrep='fgrep --color=auto'
		alias egrep='egrep --color=auto'
	fi
elif [[ -n "$ZSH_VERSION" ]]; then
	### ZSH ###
	alias reload="source ~/.zshrc"
	alias zshconfig="code ~/.zshrc"
	alias ohmyzsh="code ~/.oh-my-zsh"

	alias ls="ls -GFp"
else
	echo "Unknown Shell";
fi

if [[ $OSTYPE == "linux-gnu" ]]; then
	### Ubuntu ###
	alias update="sudo apt update -y && sudo apt upgrade -y";

	if grep -q Microsoft /proc/version; then
		### Ubuntu on Windows ###
		# Command Line #
		alias cmd="cmd.exe /c"

		PROGRAMFILES=$(cmd "echo %PROGRAMFILES%" | sed -r 's/[D:\\C:\\]+/\/mnt\/d\//g' | sed -r 's/ /\\ /g')
		
		# Editor #
		alias code="cmd code"

		# IDE #
		alias devenv="$PROGRAMFILESX86/Microsoft\ Visual\ Studio\ 14.0/Common7/IDE/devenv.exe &"

		# Debugger #
		alias x64dbg="/mnt/c/x64dbg/x64/x64dbg.exe &"

		# File Explorer #
		alias e="/mnt/c/Windows/SysWOW64/explorer.exe"
		alias e.="e ."

		# Vagrant #
		PATH=/mnt/c/Program\ Files\ \(x86\)/Vagrant/bin:$PATH
	elif grep -q "native Linux" /proc/version; then
		### Native Linux ###
		# File Explorer #
		if [[ `isInstalled nautilus` == "1" ]]; then
			alias e="nautilus"
			alias e.="nautilus ."
		fi
	else
		echo "Unknown Linux Distro"
	fi

elif [[ $OSTYPE == "darwin"* ]]; then
### Homebrew ###
	alias update="brew update -y";

	# File Explorer #
	alias e="open"
	alias e.="open ."
else
	echo "Unknown OS";
fi

# Abbr. #
alias c="clear"
alias r="reset"
alias h="history"

alias l='ls -CF'
# alias lsd=$'ls -F | grep --color=never \'/$\' | awk \'{ printf("%s ", $1); }\' && echo'
alias lsd=$'echo -n $(ls | grep \'/$\') && echo'
alias ll='ls -alF'
alias la='ls -A'
alias lla='ls -la'
alias l.='ls -d .*'
alias lahtr='ls -lahtr'

alias cd..='cd ..'
alias ..='cd ..'
alias ...='cd ../../'
alias ....='cd ../../../'
alias .....='cd ../../../../'

# Overrides #
if [[ `isInstalled wget` == "1" ]]; then alias wget="wget -c"; fi
if [[ `isInstalled bc` == "1" ]]; then alias bc="bc -l"; fi
alias mkdir="mkdir -pv"

# Date & Time #
alias now='date +"%T %d-%m-%Y"'
alias now-time='date +"%T"'
alias now-date='date +"%d-%m-%Y"'

if [[ `isInstalled curl` == "1" ]]; then
	# IP #
	alias ip-public="curl http://ipecho.net/plain; echo"
	alias ip-private="ifconfig | grep -Eo 'inet (addr:)?([0-9]*\.){3}[0-9]*' | \
		grep -Eo '([0-9]*\.){3}[0-9]*' | grep -v '127.0.0.1'"

	alias header="curl -I"
fi

# Ports #
alias ports="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E '(0.0.0.0:|:::)' | sed 's/.*://' | sort -n | uniq"
alias ports-v4="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E '0.0.0.0:' | sed 's/.*://' | sort -n | uniq"
alias ports-v6="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E ':::' | sed 's/.*://' | sort -n | uniq"
alias ports-local="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E '(127.0.0.1:|::1:)' | sed 's/.*://' | sort -n | uniq"

alias psg='ps aux | grep -v grep | grep -i -e VSZ -e'

alias histg='history | grep'

if [[ `isInstalled git` == "1" ]]; then
	### Git ###
	alias gs="git status"
	alias ga="git add -A"
	alias gb="git branch"
	alias gc="git commit -m \'$1\'"
	alias gp="git push"
	alias gpull="git pull"
	alias gt="git tag \'$1\'"
	alias gpt="git push --tags"
	alias co="git checkout"
fi

if [[ `isInstalled cling` == "1" ]]; then
	### Cling ###
	alias cling="~/.cling/bin/cling --nologo --std=c++1z"
fi

if [[ `isInstalled ruby` == "1" ]]; then
	### Ruby ###
	alias bex="bundle exec"
fi
