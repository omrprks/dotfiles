# echo "start .aliases"

### Bash ###
if [[ -n "$BASH_VERSION" ]]; then
	alias reload="source ~/.bash_profile"
	alias bashconfig="code ~/.bashrc"

### Zsh ###
elif [[ -n "$ZSH_VERSION" ]]; then
	alias reload="source ~/.zshrc"
	alias zshconfig="code ~/.zshrc"
	alias ohmyzsh="code ~/.oh-my-zsh"
else
	echo "Unknown Shell";
fi

### Linux ###
if [[ $OSTYPE = "linux-gnu"* ]]; then
	alias upgrade="sudo apt update -y && sudo apt upgrade -y";

	if [[ -x /usr/bin/dircolors ]]; then
		test -r ~/.dircolors && \
			eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
		alias ls="ls -GFp --color=auto"
		alias dir='dir --color=auto'
		alias vdir='vdir --color=auto'

		alias grep='grep --color=auto'
		alias fgrep='fgrep --color=auto'
		alias egrep='egrep --color=auto'
	fi

	### Windows Subsystem for Linux ###
	if [[ `grep "Microsoft" /proc/version` ]]; then
		# Command Line #
		alias cmdc="cmd.exe /c"

#		PROGRAMFILES=$(cmd.exe "echo %PROGRAMFILES%" | sed -r 's/[D:\\C:\\]+/\/mnt\/d\//g' | sed -r 's/ /\\ /g')
		
		# IDE #
#		alias devenv="$PROGRAMFILESX86/Microsoft\ Visual\ Studio\ 14.0/Common7/IDE/devenv.exe &"

		# File Explorer #
		alias e="cmdc explorer.exe"
		alias e.="e ."

		# EDITOR #
		alias code="cmdc code"

		# Vagrant #
#		PATH=/mnt/c/Program\ Files\ \(x86\)/Vagrant/bin:$PATH
	elif [[ `grep "Ubuntu" /proc/version` ]]; then
		### Native Linux ###
		# File Explorer #
		if [[ `isInstalled nautilus` == "1" ]]; then
			alias e="nautilus"
			alias e.="nautilus ."
		fi
	else
		echo "Unknown Linux Distro"
		echo `uname -a`
	fi
elif [[ $OSTYPE = "darwin"* ]]; then
	# Aliases #
	[[ `brew coreutils` = "1" ]] && alias find="gfind"

	# File Explorer #
	alias e="open"
	alias e.="e ."
	alias ls="ls -GFp"
else
	echo "Unknown OS";
fi

### Homebrew ###
[[ `isInstalled brew` = "1" ]] && alias update="brew update -y"

# Abbr. #
alias c="clear"
alias r="reset"
alias h="history"

alias l="ls -CF"
alias lsd=$'echo -n $(ls | grep \'/$\') && echo'
alias ll="ls -alF"
alias la='ls -A'
alias lla='ls -la'
alias l.='ls -d .*'
alias lahtr='ls -lahtr'

alias cd..='cd ..'
alias ..='cd ..'
alias ...='cd ../../'
alias ....='cd ../../../'
alias .....='cd ../../../../'

# Overrides #
if [[ `isInstalled wget` == "1" ]]; then alias wget="wget -c"; fi
if [[ `isInstalled bc` == "1" ]]; then alias bc="bc -l"; fi
alias mkdir="mkdir -pv"

# Date & Time #
alias now='date +"%T %d-%m-%Y"'
alias now-time='date +"%T"'
alias now-date='date +"%d-%m-%Y"'

if [[ `isInstalled curl` = "1" ]]; then
	# IP #
	alias ip-public="curl http://ipecho.net/plain; echo"
	alias ip-private="ifconfig | grep -Eo 'inet (addr:)?([0-9]*\.){3}[0-9]*' | \
		grep -Eo '([0-9]*\.){3}[0-9]*' | grep -v '127.0.0.1'"

	alias header="curl -I"
fi

# Ports #
alias ports="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E '(0.0.0.0:|:::)' | sed 's/.*://' | sort -n | uniq"
alias ports-v4="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E '0.0.0.0:' | sed 's/.*://' | sort -n | uniq"
alias ports-v6="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E ':::' | sed 's/.*://' | sort -n | uniq"
alias ports-local="netstat -lnt | awk 'NR>2{ print $4 }' | \
	grep -E '(127.0.0.1:|::1:)' | sed 's/.*://' | sort -n | uniq"

alias psg='ps aux | grep -v grep | grep -i -e VSZ -e'

alias histg='history | grep'

if [[ `isInstalled git` = "1" ]]; then
	### Git ###
	alias gs="git status"
	alias ga="git add -A"
	alias gb="git branch"
	alias gc="git commit -m \'$1\'"
	alias gp="git push"
	alias gpull="git pull"
	alias gt="git tag \'$1\'"
	alias gpt="git push --tags"
	alias co="git checkout"
fi

# Cling #
[[ `isInstalled cling` = "1" ]] && \
	alias cling="cling --nologo --std=c++1z"

# Ruby #
[[ `isInstalled ruby` = "1" ]] && \
	alias bex="bundle exec"

# echo "end .aliases"
